generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Tarefa {
  id            Int                @id @default(autoincrement())
  projeto       String?            @db.VarChar(100)
  titulo        String?            @db.VarChar(100)
  descricao     String?            @db.VarChar(300)
  criado_por    String?            @db.VarChar(50)
  criado_em     DateTime?          @default(now()) @db.Timestamptz(6)
  status        status_tarefa?     @default(NAO_INICIADO)
  prioridade    prioridade_tarefa? @default(MEDIA)
  prazo         DateTime?          @db.Date
  responsavelId Int?
  comentarios   String?            @db.VarChar(500)
  usuario       Usuario?           @relation(fields: [responsavelId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("tarefas")
}

model Usuario {
  id       Int      @id @default(autoincrement())
  nome     String   @db.VarChar(50)
  telefone String?  @db.VarChar(20)
  email    String   @unique @db.VarChar(100)
  tarefas  Tarefa[]

  @@map("usuarios")
}

model Credenciais {
  id           Int    @id @default(autoincrement())
  login       String  @unique
  senha       String

  @@map("credenciais")
}

enum prioridade_tarefa {
  BAIXA
  MEDIA
  ALTA
}

enum status_tarefa {
  NAO_INICIADO
  ACEITO
  EM_ANDAMENTO
  FINALIZADO
  ATRASADO
}
